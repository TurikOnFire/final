<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>–ì–ª–∞–≤–Ω–∞—è</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<header>
    <h1>FINAL PROJECT</h1>
    <nav>
        <a th:href="@{/}">–ì–ª–∞–≤–Ω–∞—è</a>
        <a sec:authorize="!isAuthenticated()" th:href="@{/login}">–í–æ–π—Ç–∏</a>
        <a th:if="${#authorization.expression('isAuthenticated()')}" th:href="@{/logout}">–í—ã–π—Ç–∏</a>
    </nav>
</header>

<main>
    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å üëã</h2>
    <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
        <span th:text="${#authentication.name}"></span>
    </p>
    <p th:if="${#authorization.expression('isAuthenticated()')}">
        –í—ã –≤–æ—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É.
    </p>

    <p th:unless="${#authorization.expression('isAuthenticated()')}">
        –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É.
    </p>
    <div sec:authorize="isAnonymous()" style="display: flex; justify-content: space-around">
        <a class="btn" th:href="@{/login}" style="width: 25%">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ª–æ–≥–∏–Ω—É</a>
        <a class="btn" th:href="@{/registration}" style="width: 25%">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</a>
    </div>

    <p sec:authorize="isAuthenticated()">
        Authorities:
        <span sec:authentication="authorities"></span>
    </p>

    <div sec:authorize="hasRole('USER')">
        <p>–ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
    </div>
    <div sec:authorize="hasRole('ADMIN')">
        <a href="/admin">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
    </div>
    <div sec:authorize="hasAnyRole('ADMIN', 'USER')">
        <p>–î–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º</p>
    </div>


</main>

<footer>
    <p>¬© 2025 FINAL</p>
</footer>

</body>
</html>
